import{K as U,L as _,d as y,r as L,o as x,f as P,J as k,_ as j}from"./index-f1436369.js";var h={exports:{}};(function(w,M){(function(l,A){w.exports=A()})(U,function(){function l(e){var s=[];return e.AMapUI&&s.push(A(e.AMapUI)),e.Loca&&s.push(m(e.Loca)),Promise.all(s)}function A(e){return new Promise(function(s,a){var u=[];if(e.plugins)for(var t=0;t<e.plugins.length;t+=1)n.AMapUI.plugins.indexOf(e.plugins[t])==-1&&u.push(e.plugins[t]);if(i.AMapUI===o.failed)a("前次请求 AMapUI 失败");else if(i.AMapUI===o.notload){i.AMapUI=o.loading,n.AMapUI.version=e.version||n.AMapUI.version,t=n.AMapUI.version;var c=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+t+"/main.js",d.onerror=function(p){i.AMapUI=o.failed,a("请求 AMapUI 失败")},d.onload=function(){if(i.AMapUI=o.loaded,u.length)window.AMapUI.loadUI(u,function(){for(var p=0,f=u.length;p<f;p++){var v=u[p].split("/").slice(-1)[0];window.AMapUI[v]=arguments[p]}for(s();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()});else for(s();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},c.appendChild(d)}else i.AMapUI===o.loaded?e.version&&e.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):u.length?window.AMapUI.loadUI(u,function(){for(var p=0,f=u.length;p<f;p++){var v=u[p].split("/").slice(-1)[0];window.AMapUI[v]=arguments[p]}s()}):s():e.version&&e.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):r.AMapUI.push(function(p){p?a(p):u.length?window.AMapUI.loadUI(u,function(){for(var f=0,v=u.length;f<v;f++){var b=u[f].split("/").slice(-1)[0];window.AMapUI[b]=arguments[f]}s()}):s()})})}function m(e){return new Promise(function(s,a){if(i.Loca===o.failed)a("前次请求 Loca 失败");else if(i.Loca===o.notload){i.Loca=o.loading,n.Loca.version=e.version||n.Loca.version;var u=n.Loca.version,t=n.AMap.version.startsWith("2"),c=u.startsWith("2");if(t&&!c||!t&&c)a("JSAPI 与 Loca 版本不对应！！");else{t=n.key,c=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+u+"&key="+t,d.onerror=function(p){i.Loca=o.failed,a("请求 AMapUI 失败")},d.onload=function(){for(i.Loca=o.loaded,s();r.Loca.length;)r.Loca.splice(0,1)[0]()},c.appendChild(d)}}else i.Loca===o.loaded?e.version&&e.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):s():e.version&&e.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):r.Loca.push(function(p){p?a(p):a()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(o||(o={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},r={AMap:[],AMapUI:[],Loca:[]},g=[],I=function(e){typeof e=="function"&&(i.AMap===o.loaded?e(window.AMap):g.push(e))};return{load:function(e){return new Promise(function(s,a){if(i.AMap==o.failed)a("");else if(i.AMap==o.notload){var u=e.key,t=e.version,c=e.plugins;u?(window.AMap&&location.host!=="lbs.amap.com"&&a("禁止多种API加载方式混用"),n.key=u,n.AMap.version=t||n.AMap.version,n.AMap.plugins=c||n.AMap.plugins,i.AMap=o.loading,t=document.body||document.head,window.___onAPILoaded=function(p){if(delete window.___onAPILoaded,p)i.AMap=o.failed,a(p);else for(i.AMap=o.loaded,l(e).then(function(){s(window.AMap)}).catch(a);g.length;)g.splice(0,1)[0]()},c=document.createElement("script"),c.type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+u+"&plugin="+n.AMap.plugins.join(","),c.onerror=function(p){i.AMap=o.failed,a(p)},t.appendChild(c)):a("请填写key")}else if(i.AMap==o.loaded)if(e.key&&e.key!==n.key)a("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(u=[],e.plugins)for(t=0;t<e.plugins.length;t+=1)n.AMap.plugins.indexOf(e.plugins[t])==-1&&u.push(e.plugins[t]);u.length?window.AMap.plugin(u,function(){l(e).then(function(){s(window.AMap)}).catch(a)}):l(e).then(function(){s(window.AMap)}).catch(a)}else if(e.key&&e.key!==n.key)a("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{var d=[];if(e.plugins)for(t=0;t<e.plugins.length;t+=1)n.AMap.plugins.indexOf(e.plugins[t])==-1&&d.push(e.plugins[t]);I(function(){d.length?window.AMap.plugin(d,function(){l(e).then(function(){s(window.AMap)}).catch(a)}):l(e).then(function(){s(window.AMap)}).catch(a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},r={AMap:[],AMapUI:[],Loca:[]}}}})})(h);var S=h.exports;const E=_(S),C="95feca92efaa7723b4bd41c5fb1b0202",J={class:"content-box"},O=k('<div class="link" data-v-543d1ee4> 高德地图api： <a href="https://lbs.amap.com/api/jsapi-v2/summary/" target="_blank" data-v-543d1ee4> https://lbs.amap.com/api/jsapi-v2/summary/ </a></div><div id="tip" data-v-543d1ee4><input type="text" id="keyword" name="keyword" placeholder="请输入关键字：(选定后搜索)" autocomplete="off" data-v-543d1ee4></div><div id="container" data-v-543d1ee4></div>',3),B=[O],D=y({__name:"index",setup(w){let M=L("");return E.load({key:C,version:"2.0",plugins:["AMap.AutoComplete","AMap.PlaceSearch"]}).then(l=>{M=new l.Map("container",{viewMode:"3D",zoom:4,center:[105.602725,37.076636]}),l.plugin(["AMap.Autocomplete","AMap.PlaceSearch"],function(){let A={city:"北京",input:"keyword"};const m=new l.Autocomplete(A,function(i){console.log(i)});let o=new l.PlaceSearch({city:"北京",map:M});m.on("select",n);function n(i){o.setCity(i.poi.adcode),o.search(i.poi.name)}})}).catch(l=>{console.log(l)}),(l,A)=>(x(),P("div",J,B))}});const W=j(D,[["__scopeId","data-v-543d1ee4"]]);export{W as default};

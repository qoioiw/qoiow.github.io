import{d as w,u as S,a as U,b as k,r as g,c as C,e as d,o as x,f as h,g as t,w as l,h as s,i as $,l as B,j as F,E as v,_ as y,k as c,p as L,m as P}from"./index-4f3854f9.js";import{g as R}from"./time-e894181e.js";const T=w({__name:"index",setup(n){let p=S(),m=U(),V=k(),f=g(),i=g(!1),a=C({username:"admin",password:"atguigu123"});const b=async()=>{await f.value.validate(),i.value=!0;try{await V.userLogin(a);let r=m.query.redirect;p.push({path:r||"/"}),v({type:"success",message:"登录成功",title:`Hi,${R()}好`}),i.value=!1}catch(r){i.value=!1,v({type:"error",message:r.message})}},N={username:[{trigger:"change",validator:(r,e,o)=>{e.length>=5?o():o(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(r,e,o)=>{e.length>=6?o():o(new Error("密码长度至少六位"))}}]};return(r,e)=>{const o=d("el-input"),_=d("el-form-item"),E=d("el-button"),I=d("el-form");return x(),h("div",null,[t(I,{class:"login_form",model:s(a),rules:N,ref_key:"loginForms",ref:f},{default:l(()=>[t(_,{prop:"username"},{default:l(()=>[t(o,{"prefix-icon":s($),modelValue:s(a).username,"onUpdate:modelValue":e[0]||(e[0]=u=>s(a).username=u)},null,8,["prefix-icon","modelValue"])]),_:1}),t(_,{prop:"password"},{default:l(()=>[t(o,{type:"password","prefix-icon":s(B),modelValue:s(a).password,"onUpdate:modelValue":e[1]||(e[1]=u=>s(a).password=u),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),t(_,null,{default:l(()=>[t(E,{loading:s(i),class:"login_btn",type:"primary",size:"default",onClick:b},{default:l(()=>[F(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}});const j=y(T,[["__scopeId","data-v-fbf41f5e"]]),q=n=>(L("data-v-23b28e66"),n=n(),P(),n),z={class:"index"},A={class:"window"},H=q(()=>c("div",{class:"title"},"ApiKid",-1)),K={class:"login-window"},W=w({__name:"index",setup(n){return(p,m)=>(x(),h("div",z,[c("div",A,[H,c("div",K,[t(j)])])]))}});const O=y(W,[["__scopeId","data-v-23b28e66"]]);export{O as default};
